<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/assets/logos/logo.svg" />
    <title>Sole Heven</title>

    <!-- Custom Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <!-- Global Styles -->
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/store.css" />
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/footer.css" />
  </head>

  <body>
    <!-- App Bar -->
    <header id="header" class="header">
      <a class="logo" href="home.html" data-link>
        <img
          src="../../assets/logos/logo.svg"
          height="80px"
          class="logo"
          alt="Sole Haven Logo"
        />
        <h1>SOLE HAVEN</h1>
      </a>

      <nav>
        <ul id="navbar" class="navbar"></ul>
      </nav>
    </header>

    <!-- Body -->
    <main>
      <aside>
        <nav>
          <a href="dashboard.html">
            <div class="icon-box">
              <i class="fa fa-tachometer" aria-hidden="true"></i>
            </div>
            Dashboard
          </a>
          <a href="transactions.html">
            <div class="icon-box"><i class="fas fa-exchange-alt"></i></div>
            Transactions
          </a>
          <a href="sales.html">
            <div class="icon-box"><i class="fas fa-chart-line"></i></div>
            Sales Insights
          </a>
          <a href="store.html" class="active">
            <div class="icon-box"><i class="fa-solid fa-warehouse"></i></div>
            Manage Products
          </a>
        </nav>
      </aside>

      <div class="dashboard-main">
        <div class="breadcrumb">
          <h4>My Store</h4>

          <button class="primary" onclick="startAdd()">
            <i class="fa-solid fa-circle-plus"></i> &nbsp; Add New Product
          </button>
        </div>

        <div class="table-container">
          <table class="product-table">
            <thead>
              <tr>
                <th>Product</th>
                <th>Discount</th>
                <th>Price</th>
                <th>Stock</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="productList"></tbody>
          </table>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer>
      <div>
        <img
          style="width: 170px"
          src="../assets/logos/logo.svg"
          alt="Sole Haven Logo"
        />
      </div>

      <div class="col">
        <h3>Contact</h3>
        <p><strong>Address:</strong> 456 Kandy Road, Street 23, Kurunegala</p>
        <p><strong>Phone:</strong> 0723456788 / 0372234566</p>
      </div>

      <div class="col">
        <h3>Follow Us</h3>
        <div class="icon">
          <a href="https://www.facebook.com" target="_blank"
            ><i class="fab fa-facebook-f"></i
          ></a>
          <a href="https://www.twitter.com" target="_blank"
            ><i class="fab fa-twitter"></i
          ></a>
          <a href="https://www.instagram.com" target="_blank"
            ><i class="fab fa-instagram"></i
          ></a>
          <a href="https://www.youtube.com" target="_blank"
            ><i class="fab fa-youtube"></i
          ></a>
        </div>
      </div>

      <div class="col about">
        <h3>About</h3>
        <a href="about.html">About Us</a>
        <a href="privacy.html">Privacy Policy</a>
        <a href="terms.html">Terms & Conditions</a>
        <a href="support.html">Customer Support</a>
      </div>

      <div class="payment">
        <p>Secured Payment Gateways</p>
        <img src="../assets/logos/google_Pay.png" alt="Google Pay" />
      </div>
    </footer>

    <!-- Product Form -->
    <div class="mui-dialog" id="productFormContainer" style="display: flex">
      <div class="mui-dialog-content" style="align-items: start">
        <h3 id="formTitle">Add Product</h3>
        <hr style="width: 100%; margin: 10px 0" />

        <div class="form-body">
          <h5>General Information</h5>
          <div class="mui-form">
            <div class="form-group">
              <label for="productBrand">Brand</label>
              <select id="productBrand">
                <option value="">Select Brand</option>
                <option value="SneakerX">SneakerX</option>
                <option value="BootPro">BootPro</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label for="productCategory">Category</label>
              <select id="productCategory">
                <option value="">Select Category</option>
                <option value="Running Shoes">Running Shoes</option>
                <option value="Hiking Boots">Hiking Boots</option>
                <option value="Casual Wear">Casual Wear</option>
              </select>
            </div>

            <div class="form-group">
              <label for="productGender">Gender</label>
              <select id="productGender">
                <option value="">Select Gender</option>
                <option value="MEN">Men</option>
                <option value="WOMEN">Women</option>
                <option value="UNISEX">Unisex</option>
                <option value="BOYS">Boys</option>
                <option value="GIRLS">Girls</option>
              </select>
            </div>

            <div class="form-group">
              <label for="productSKU">SKU</label>
              <input type="text" id="productSKU" maxlength="20" />
            </div>

            <div class="form-group">
              <label for="productColor">Color</label>
              <input type="text" id="productColor" maxlength="50" />
            </div>

            <div class="form-group">
              <label for="productWeight">Weight</label>
              <input type="text" id="productWeight" maxlength="20" />
            </div>
          </div>

          <div class="form-group">
            <label for="productDescription">Description</label>
            <input type="text" id="productDescription" max="100" />
          </div>

          <div class="mui-form">
            <div class="form-group">
              <label for="productPrice">Unit Price (LKR)</label>
              <input type="number" id="productPrice" min="0" max="100000" />
            </div>

            <div class="form-group">
              <label for="productDiscount">Discount (LKR)</label>
              <input type="number" id="productDiscount" min="0" />
            </div>

            <div class="form-group">
              <label for="productImage">Image</label>
              <input type="file" id="productImage" accept="image/*" />
            </div>
          </div>

          <hr style="width: 100%; margin: 10px 0" />

          <div class="add-new-section">
            <h5>Stock Information</h5>
            <button type="button" onclick="addStockRow()" class="secondary">
              Add Stock
            </button>
          </div>
          <div class="stock-section" id="stockSection"></div>
        </div>

        <div class="mui-dialog-actions">
          <button class="mui-btn default" onclick="cancelForm()">Cancel</button>
          <button class="mui-btn primary" onclick="saveProduct()">Save</button>
        </div>
      </div>
    </div>

    <script>
      function addStockRow() {
        const stockSection = document.getElementById("stockSection");

        const stockDiv = document.createElement("div");
        stockDiv.classList.add("form-group", "stock-entry");
        stockDiv.innerHTML = `
          <input type="number" placeholder="Size" style="width: 80px" />
          <input type="number" placeholder="Quantity" style="width: 80px" />
          <div class="icon-btn"><i class="fa-solid fa-xmark"></i></div>
        `;

        stockSection.appendChild(stockDiv);
      }

      // Optional: add one initial stock row when dialog opens
      document.addEventListener("DOMContentLoaded", () => {
        addStockRow();
      });
    </script>

    <!-- Confirmation Dialog -->
    <div id="confirmDialog" class="mui-dialog">
      <div class="mui-dialog-content">
        <h4>Delete Confirmation</h4>
        <p>
          Are you sure you want to delete the product? This action can't be
          undone later.
        </p>
        <div class="mui-dialog-actions">
          <button id="confirmCancelBtn" class="mui-btn default">No</button>
          <button id="confirmYesBtn" class="mui-btn error">Yes</button>
        </div>
      </div>
    </div>

    <script src="../js/header.js"></script>
    <script type="module" src="../js/store.js"></script>
  </body>
</html>
